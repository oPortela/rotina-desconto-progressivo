unit Desconto.Progressivo.View.AlteracaoFlexHeader;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ExtCtrls, Vcl.StdCtrls, Desconto.Progressivo.Model.Header,
  System.ImageList, Vcl.ImgList;

type
  TfrmFlexHeader = class(TForm)
    Panel1: TPanel;
    Panel2: TPanel;
    Panel3: TPanel;
    edtPerdesc: TEdit;
    Label1: TLabel;
    Label2: TLabel;
    edtQuantidade: TEdit;
    Label3: TLabel;
    edtDescricao: TEdit;
    Label4: TLabel;
    edtCodCampanha: TEdit;
    Label5: TLabel;
    edtQtdInicial: TEdit;
    Label6: TLabel;
    edtQtdFinal: TEdit;
    btnAlterarFlexHeader: TButton;
    ImageList2: TImageList;
    btnCancelar: TButton;
  private
    { Private declarations }
  public
    { Public declarations }
    procedure alterarFlexHeader(CodCampanha : String);
  end;

var
  frmFlexHeader: TfrmFlexHeader;

implementation

{$R *.dfm}

{ TfrmFlexHeader }

procedure TfrmFlexHeader.alterarFlexHeader(CodCampanha: String);
begin
  dmFlexHeader.SQLHeader.SQL.Clear;
  dmFlexHeader.SQLHeader.Close;
  dmFlexHeader.SQLHeader.SQL.Text := 'SELECT * FROM TESTE.ionvd_campanhas_flex_header WHERE CODCAMPANHAFLEX = :CODIGO;';
  dmFlexHeader.SQLHeader.ParamByName('CODIGO').AsString := CodCampanha;
  dmFlexHeader.SQLHeader.Open;

  edtCodCampanha.Text := dmFlexHeader.SQLHeader.FieldByName('CODCAMPANHAFLEX').AsString;
  edtDescricao.Text := dmFlexHeader.SQLHeader.FieldByName('DESCRICAO').AsString;
  edtPerdesc.Text := dmFlexHeader.SQLHeader.FieldByName('PERCDESC').AsString;
  edtQuantidade.Text := dmFlexHeader.SQLHeader.FieldByName('QUANTIDADE').AsString;
  edtQtdInicial.Text := dmFlexHeader.SQLHeader.FieldByName('QUANTIDADE_INI').AsString;
  edtQtdFinal.Text := dmFlexHeader.SQLHeader.FieldByName('QUANTIDADE_FIM').AsString;
end;

end.
