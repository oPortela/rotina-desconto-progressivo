unit Desconto.Progressivo.View.Alteracao;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ExtCtrls, Vcl.WinXPanels,
  Vcl.StdCtrls, Vcl.ComCtrls, System.ImageList, Vcl.ImgList, Desconto.Progressivo.Model.CampanhaDesconto;

type
  TfrmAlteracaoPolitica = class(TForm)
    CardPanel1: TCardPanel;
    Card1: TCard;
    Panel1: TPanel;
    pnlTitulo: TPanel;
    pnlPrincipal: TPanel;
    dataInicio: TDateTimePicker;
    dataFim: TDateTimePicker;
    edtCodCampanha: TEdit;
    edtDescricao: TEdit;
    edtPerdesc: TEdit;
    edtQtdFinal: TEdit;
    edtQtdInicial: TEdit;
    edtQuantidade: TEdit;
    Label1: TLabel;
    Label2: TLabel;
    Label3: TLabel;
    Label4: TLabel;
    Label5: TLabel;
    Label6: TLabel;
    Label7: TLabel;
    Label9: TLabel;
    Edit2: TEdit;
    ImageList2: TImageList;
    pnlRodape: TPanel;
    btnCancelar: TButton;
    btnAlterarFlexHeader: TButton;
  private
    { Private declarations }
  public
    { Public declarations }
    procedure alterarPolitica(CodDesconto : String);
  end;

var
  frmAlteracaoPolitica: TfrmAlteracaoPolitica;

implementation

{$R *.dfm}

{ TfrmAlteracaoPolitica }

procedure TfrmAlteracaoPolitica.alterarPolitica(CodDesconto: String);
begin
  dmCampanhaDesconto.SQLCampanhaDesconto.SQL.Clear;
  dmCampanhaDesconto.SQLCampanhaDesconto.Close;
  dmCampanhaDesconto.SQLCampanhaDesconto.SQL.Text := 'SELECT CODDESCONTO, DESCRICAO, DTINICIO, DTFIM, PERCDESC, CODGRUPOREST, CODCAMPANHAFLEX, VLRMINIMO, VLRMAXIMO ' +
                                                     'FROM PCDESCONTO WHERE CODDESCONTO = :CODIGO';
  dmCampanhaDesconto.SQLCampanhaDesconto.ParamByName('CODIGO').AsString := Coddesconto;
  dmCampanhaDesconto.SQLCampanhaDesconto.Open;

  edtCodCampanha.Text := dmCampanhaDesconto.SQLCampanhaDesconto.FieldByName('CODDESCONTO').AsString;
  edtDescricao.Text := dmCampanhaDesconto.SQLCampanhaDesconto.FieldByName('DESCRICAO').AsString;
  da
end;

end.
